# Token 生成原理
## Prefilling 与 Decoding
![alt text](image-2.png)
- Prefilling 并行计算输入所有token的 Q K V,所有Q的注意力，计算密集型 
- decoding 逐个计算新生成的token的注意力 加载保存的之前的token的 K,V,然后之计算最新的token对应的Q的注意力，内存访问密集